# =================================================================
# Global Settings
# =================================================================
namespace: kubewatch-dev # KubeWatch를 배포할 네임스페이스
imagePullSecret:
  enabled: true
  name: ghcr-pull-secret
  sealedDockerConfigJson: "AgBRx2kdcUn+... (기존 암호화된 값 그대로 사용)" # 기존 값 유지

# =================================================================
# Backend (Flask + SocketIO) Settings
# =================================================================
backend:
  replicaCount: 1
  image:
    repository: ghcr.io/devopslabs-jcg/kubewatch-backend # CI에서 빌드할 새 이미지 이름
    tag: latest
    pullPolicy: IfNotPresent
  
  service:
    type: ClusterIP # 백엔드는 외부로 직접 노출할 필요 없으므로 ClusterIP 사용
    port: 5000
    targetPort: 5000

  serviceAccount:
    create: true
    name: kubewatch-sa # K8s API 접근 권한을 위한 서비스 어카운트

  resources: {}
  #  cpu: 100m
  #  memory: 128Mi

# =================================================================
# Frontend (React + Nginx) Settings
# =================================================================
frontend:
  replicaCount: 1
  image:
    repository: ghcr.io/devopslabs-jcg/kubewatch-frontend # CI에서 빌드할 새 이미지 이름
    tag: latest
    pullPolicy: IfNotPresent

  service:
    type: NodePort
    port: 80 # 클러스터 내부에서 서비스가 사용할 포트
    targetPort: 80 # 프론트엔드 컨테이너(Nginx)가 노출하는 포트
    nodePort: 30160 # 요청하신 고정 포트

  resources: {}
  #  cpu: 100m
  #  memory: 128Mi
